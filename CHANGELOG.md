# Changelog

All notable changes to this project are documented here.

This file is managed by Release Please and updated automatically as part of the release process.

- Do not edit this file manually; changes are generated from Conventional Commits.

## 1.1.1 — 2025-09-04

Improvements and fixes since 1.1.0:

- ci: deterministic Gates (format→lint→types) then tests and docs
- ci: PR head checkout, concurrency cancel-in-progress, avoid duplicate runs on PR branches
- ci(pytest): add coverage (pytest-cov), junit xml, xdist; upload coverage to Codecov
- docs: add status/badges table (CI, quality, package, community, meta)
- cleanup: remove generated site/ assets and local runner/type logs; ignore site/ and .basedpyright_full.txt
- refactor: centralize default container in `pyinj.defaults`; split protocols package; typing fixes for wrappers and context cleanups

## 1.1.0 — 2025-09-04

- feat(container): add `register_context` for sync/async context-managed providers with per-scope cleanup (request/session/singleton)
- feat(container): enforce immutable registrations; re-registering the same token raises `ValueError`
- feat(api): add `register_context_sync` and `register_context_async` helpers; typed overloads on `register_context`
- refactor(cleanup): remove broad introspective resource tracking; container now tracks resources registered via context-managed registration while request/session scopes continue to clean up scoped resources
- docs: update examples to use `register_context_sync/async`; clarify nested request scopes and async cleanup ordering
- docs: add LLM Guide for concise usage in agent/tool contexts
- tests: refactor to context-managed registrations; fix asyncpg/httpx test indentation; update circular dependency expectation
